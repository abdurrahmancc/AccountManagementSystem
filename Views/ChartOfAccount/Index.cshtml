@model List<AccountManagementSystem.Models.ViewChartOfAccountModel>

@using Microsoft.AspNetCore.Html
@using System.Text

<h2>Chart of Accounts</h2>

<div class="tree">
    @Html.Raw(RenderTree(Model))
</div>

@functions {
    public HtmlString RenderTree(List<AccountManagementSystem.Models.ViewChartOfAccountModel> items)
    {
        var sb = new StringBuilder();
        sb.Append("<ul>");
        foreach (var item in items)
        {
            sb.Append("<li>");
            sb.Append(item.AccountHead);
            if (item.Children != null && item.Children.Any())
            {
                sb.Append(RenderTree(item.Children));
            }
            sb.Append("</li>");
        }
        sb.Append("</ul>");
        return new HtmlString(sb.ToString());
    }
}

<style>
    .tree, .tree ul {
        list-style-type: none;
        margin: 0;
        padding-left: 1rem;
        position: relative;
    }

        .tree ul {
            margin-left: 1rem;
        }

        .tree li {
            margin: 0;
            padding: 0 1rem;
            line-height: 2rem;
            color: #369;
            font-weight: 500;
            position: relative;
        }

            .tree li::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                border-left: 1px solid #ccc;
                bottom: 0;
                height: 100%;
            }

            .tree li::after {
                content: '';
                position: absolute;
                top: 1rem;
                left: 0;
                width: 1rem;
                height: 0;
                border-top: 1px solid #ccc;
            }
</style>
